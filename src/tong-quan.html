<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T·ªïng Quan - NamVung CashBack</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="./modern/modern-theme.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <a href="./index.html" class="logo">
                <img src="img/logo.png" alt="NamVung CashBack">
            </a>

            <nav class="nav-menu">
                <a href="./tong-quan.html" class="nav-link active"><i class="fas fa-home"></i> T·ªïng Quan</a>
                <a href="./don-hang.html" class="nav-link"><i class="fas fa-box"></i> ƒê∆°n H√†ng</a>
                <a href="./san-pham.html" class="nav-link"><i class="fas fa-shopping-bag"></i> S·∫£n Ph·∫©m</a>
                <a href="./so-du.html" class="nav-link"><i class="fas fa-wallet"></i> S·ªë D∆∞</a>
                <a href="./ho-so.html" class="nav-link"><i class="fas fa-user"></i> H·ªì S∆°</a>
                <a href="./tai-khoan.html" class="nav-link"><i class="fas fa-cog"></i> T√†i Kho·∫£n</a>
            </nav>

            <div class="user-info" onclick="window.location.href='./ho-so.html'">
                <img src="img/user-avatar.jpg" alt="User" class="user-avatar">
                <div>
                    <div class="user-name">Nguy·ªÖn VƒÉn A</div>
                    <div class="user-balance">2.150.000ƒë</div>
                </div>
                <i class="fas fa-chevron-down" style="font-size: 0.8rem; color: var(--text-muted);"></i>
            </div>

            <a href="#" class="logout-link" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i>
            </a>
        </div>
    </header>

    <main class="main-container">
        <h1 class="page-title">T·ªïng quan</h1>

        <section class="welcome-section">
            <div class="welcome-content">
                <h1 class="welcome-title">Ch√†o m·ª´ng tr·ªü l·∫°i, Nguy·ªÖn VƒÉn A! üëã</h1>
                <p class="welcome-subtitle">B·∫°n ƒëang l√† <strong>Th√†nh vi√™n B·∫°c</strong>. H√£y mua s·∫Øm th√™m ƒë·ªÉ nh·∫≠n nhi·ªÅu ∆∞u ƒë√£i h∆°n.</p>
                <div class="welcome-stats">
                    <div class="welcome-stat">
                        <div class="welcome-stat-value">24</div>
                        <div class="welcome-stat-label">ƒê∆°n h√†ng</div>
                    </div>
                    <div class="welcome-stat">
                        <div class="welcome-stat-value">5.78M</div>
                        <div class="welcome-stat-label">T·ªïng ti·ªÅn ho√†n</div>
                    </div>
                    <div class="welcome-stat">
                        <div class="welcome-stat-value">15%</div>
                        <div class="welcome-stat-label">Ti·∫øt ki·ªám</div>
                    </div>
                </div>
            </div>
        </section>

        <section class="stats-grid">
            <div class="stat-card">
                <div class="stat-header">
                    <div>
                        <div class="stat-value" style="color: var(--primary);">2.150.000ƒë</div>
                        <div class="stat-label">S·ªë d∆∞ kh·∫£ d·ª•ng</div>
                    </div>
                    <div class="stat-icon primary">
                        <i class="fas fa-wallet"></i>
                    </div>
                </div>
                <div class="stat-change positive">
                    <i class="fas fa-arrow-up"></i>
                    +12% so v·ªõi th√°ng tr∆∞·ªõc
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-header">
                    <div>
                        <div class="stat-value" style="color: var(--success);">450.000ƒë</div>
                        <div class="stat-label">ƒêang x·ª≠ l√Ω</div>
                    </div>
                    <div class="stat-icon warning">
                        <i class="fas fa-clock"></i>
                    </div>
                </div>
                <div class="stat-change">
                    <span style="color: var(--text-secondary);">3 giao d·ªãch ƒëang ch·ªù</span>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-header">
                    <div>
                        <div class="stat-value" style="color: var(--secondary);">850.000ƒë</div>
                        <div class="stat-label">Ti·ªÅn ho√†n th√°ng n√†y</div>
                    </div>
                    <div class="stat-icon orange">
                        <i class="fas fa-coins"></i>
                    </div>
                </div>
                <div class="stat-change positive">
                    <i class="fas fa-arrow-up"></i>
                    +15% so v·ªõi th√°ng tr∆∞·ªõc
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-header">
                    <div>
                        <div class="stat-value" style="color: var(--primary);">2.450</div>
                        <div class="stat-label">ƒêi·ªÉm th∆∞·ªüng</div>
                    </div>
                    <div class="stat-icon purple">
                        <i class="fas fa-gift"></i>
                    </div>
                </div>
                <div class="stat-change positive">
                    <i class="fas fa-arrow-up"></i>
                    +150 ƒëi·ªÉm h√¥m nay
                </div>
            </div>
        </section>

        <section class="quick-actions">
            <h2 style="font-size: 1.2rem; font-weight: 600; margin-bottom: 16px;">Thao t√°c nhanh</h2>
            <div class="actions-grid">
                <div class="action-card" onclick="window.location.href='./san-pham.html'">
                    <div class="action-icon">
                        <i class="fas fa-shopping-bag"></i>
                    </div>
                    <div class="action-title">Mua s·∫Øm</div>
                    <div class="action-description">Kh√°m ph√° s·∫£n ph·∫©m</div>
                </div>
                <div class="action-card" onclick="window.location.href='./don-hang.html'">
                    <div class="action-icon">
                        <i class="fas fa-truck"></i>
                    </div>
                    <div class="action-title">Theo d√µi ƒë∆°n h√†ng</div>
                    <div class="action-description">Xem tr·∫°ng th√°i</div>
                </div>
                <div class="action-card" onclick="window.location.href='./so-du.html'">
                    <div class="action-icon">
                        <i class="fas fa-wallet"></i>
                    </div>
                    <div class="action-title">R√∫t ti·ªÅn</div>
                    <div class="action-description">Y√™u c·∫ßu r√∫t ti·ªÅn</div>
                </div>
                <div class="action-card" onclick="window.location.href='./ho-so.html'">
                    <div class="action-icon">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="action-title">C·∫≠p nh·∫≠t h·ªì s∆°</div>
                    <div class="action-description">Ch·ªânh s·ª≠a th√¥ng tin</div>
                </div>
            </div>
        </section>

        <section class="table-container">
            <div class="table-header">
                <h2 class="table-title">Ho·∫°t ƒë·ªông g·∫ßn ƒë√¢y</h2>
                <a href="./don-hang.html" class="btn btn-outline">Xem t·∫•t c·∫£</a>
            </div>
            <div style="overflow-x: auto;">
                <table>
                    <thead>
                        <tr>
                            <th>M√£ ƒë∆°n</th>
                            <th>C·ª≠a h√†ng</th>
                            <th>Ng√†y mua</th>
                            <th>Gi√° tr·ªã ƒë∆°n</th>
                            <th>Ho√†n ti·ªÅn</th>
                            <th>Tr·∫°ng th√°i</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="font-weight: 600;">#DH001230</td>
                            <td>
                                <div class="store-info">
                                    <img src="img/shopee-icon.png" alt="Shopee" style="width: 24px; height: 24px; border-radius: 4px;">
                                    Shopee
                                </div>
                            </td>
                            <td style="color: var(--text-secondary);">20/11/2024</td>
                            <td>1.250.000ƒë</td>
                            <td style="color: var(--success); font-weight: 600;">+125.000ƒë</td>
                            <td><span class="status-badge success">Ho√†n th√†nh</span></td>
                        </tr>
                        <tr>
                            <td style="font-weight: 600;">#DH001233</td>
                            <td>
                                <div class="store-info">
                                    <img src="img/tiki-icon.png" alt="Tiki" style="width: 24px; height: 24px; border-radius: 4px;">
                                    Tiki
                                </div>
                            </td>
                            <td style="color: var(--text-secondary);">19/11/2024</td>
                            <td>27.990.000ƒë</td>
                            <td style="color: var(--warning); font-weight: 600;">+500.000ƒë</td>
                            <td><span class="status-badge pending">ƒêang x·ª≠ l√Ω</span></td>
                        </tr>
                        <tr>
                            <td style="font-weight: 600;">#DH001232</td>
                            <td>
                                <div class="store-info">
                                    <img src="img/lazada-icon.png" alt="Lazada" style="width: 24px; height: 24px; border-radius: 4px;">
                                    Lazada
                                </div>
                            </td>
                            <td style="color: var(--text-secondary);">18/11/2024</td>
                            <td>25.990.000ƒë</td>
                            <td style="color: var(--success); font-weight: 600;">+300.000ƒë</td>
                            <td><span class="status-badge success">Ho√†n th√†nh</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>NamVung CashBack</h3>
                    <p>N·ªÅn t·∫£ng ho√†n ti·ªÅn uy t√≠n h√†ng ƒë·∫ßu Vi·ªát Nam</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                        <a href="#"><i class="fab fa-tiktok"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>V·ªÅ ch√∫ng t√¥i</h4>
                    <ul>
                        <li><a href="#">Gi·ªõi thi·ªáu</a></li>
                        <li><a href="#">ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a></li>
                        <li><a href="#">Ch√≠nh s√°ch b·∫£o m·∫≠t</a></li>
                        <li><a href="#">Li√™n h·ªá</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>H·ªó tr·ª£</h4>
                    <ul>
                        <li><a href="#">C√¢u h·ªèi th∆∞·ªùng g·∫∑p</a></li>
                        <li><a href="#">H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng</a></li>
                        <li><a href="#">Ph∆∞∆°ng th·ª©c thanh to√°n</a></li>
                        <li><a href="#">Ch∆∞∆°ng tr√¨nh gi·ªõi thi·ªáu</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>ƒê·ªëi t√°c</h4>
                    <ul>
                        <li><a href="#">Shopee</a></li>
                        <li><a href="#">Lazada</a></li>
                        <li><a href="#">TikTok Shop</a></li>
                        <li><a href="#">ƒêƒÉng k√Ω ƒë·ªëi t√°c</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 NamVung CashBack. T·∫•t c·∫£ quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.</p>
            </div>
        </div>
    </footer>

    <!-- Toast Notification -->
    <div id="toast" class="toast">
        <div class="toast-icon success">
            <i class="fas fa-check-circle"></i>
        </div>
        <div class="toast-content">
            <div class="toast-title">Th√†nh c√¥ng!</div>
            <div class="toast-message">Thao t√°c ƒë√£ ƒë∆∞·ª£c th·ª±c hi·ªán th√†nh c√¥ng</div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="./components/auth.js"></script>
    <script>
        // Script ƒë∆°n gi·∫£n ƒë·ªÉ active menu
        const currentPath = window.location.pathname;
        document.querySelectorAll('.nav-link').forEach(link => {
            if(link.getAttribute('href').includes(currentPath.split('/').pop())) {
                link.classList.add('active');
            }
        });

        // Show toast function
        function showToast(title, message, type = 'success') {
            const toast = document.getElementById('toast');
            const toastIcon = toast.querySelector('.toast-icon');
            const toastTitle = toast.querySelector('.toast-title');
            const toastMessage = toast.querySelector('.toast-message');

            // Update icon and class
            toastIcon.className = `toast-icon ${type}`;
            toastIcon.innerHTML = type === 'success' ? '<i class="fas fa-check-circle"></i>' :
                                   type === 'error' ? '<i class="fas fa-times-circle"></i>' :
                                   '<i class="fas fa-info-circle"></i>';

            // Update content
            toastTitle.textContent = title;
            toastMessage.textContent = message;

            // Show toast
            toast.classList.add('show');

            // Hide after 3 seconds
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Logout function
        function logout() {
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën ƒëƒÉng xu·∫•t?')) {
                showToast('ƒêang ƒëƒÉng xu·∫•t', 'Vui l√≤ng ch·ªù...', 'info');
                setTimeout(() => {
                    window.location.href = './index.html';
                }, 1000);
            }
        }

        // Animate numbers on page load
        function animateValue(element, start, end, duration) {
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                element.textContent = Math.floor(progress * (end - start) + start).toLocaleString('vi-VN');
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                }
            };
            window.requestAnimationFrame(step);
        }

        // Animate stats on load
        window.addEventListener('load', () => {
            document.querySelectorAll('.stat-value').forEach(el => {
                const value = el.textContent;
                if (value.includes('ƒë')) {
                    const num = parseInt(value.replace(/\D/g, ''));
                    if (!isNaN(num)) {
                        animateValue(el, 0, num, 1000);
                        setTimeout(() => {
                            el.textContent = value;
                        }, 1000);
                    }
                }
            });
        });

        // Refresh data
        function refreshData() {
            showToast('ƒêang l√†m m·ªõi', 'D·ªØ li·ªáu ƒëang ƒë∆∞·ª£c c·∫≠p nh·∫≠t...', 'info');
            // Simulate data refresh
            setTimeout(() => {
                showToast('Th√†nh c√¥ng', 'D·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t');
            }, 1000);
        }

        // Initialize user data on page load
        document.addEventListener('DOMContentLoaded', async () => {
            if (window.currentUser) {
                await window.currentUser.updateUI();
            }
        });
    </script>
</body>
</html>